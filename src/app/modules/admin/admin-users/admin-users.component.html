<mat-form-field>
  <mat-label>Поиск</mat-label>
  <input matInput (keyup)="applyFilter($event)"  #input>
</mat-form-field>

<div class="mat-elevation-z8" >
  <table  mat-table [dataSource]="dataSource">
    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef >Имя</th>
      <td  mat-cell *matCellDef="let user">{{ user.firstName }}</td>
    </ng-container>

    <ng-container matColumnDef="surname">
      <th mat-header-cell *matHeaderCellDef>Фамилия</th>
      <td mat-cell *matCellDef="let user">{{ user.lastName }}</td>
    </ng-container>

    <ng-container matColumnDef="mail">
      <th mat-header-cell *matHeaderCellDef >Почта</th>
      <td mat-cell *matCellDef="let user">{{ user.mail }}</td>
    </ng-container>

    <ng-container matColumnDef="rating">
      <th mat-header-cell *matHeaderCellDef>Рейтинг</th>
      <td mat-cell *matCellDef="let user">{{ user.rating }}</td>
    </ng-container>

    <ng-container matColumnDef="admin">
      <th mat-header-cell *matHeaderCellDef>Админ</th>
      <td mat-cell *matCellDef="let user">
        <mat-checkbox class="example-margin"
                      color="primary"
                      value="1"
                      checked="{{user.isAdmin}}"
                      (change)="onAdminClick($event.checked, user.id)"
        ></mat-checkbox>
      </td>
    </ng-container>

    <ng-container matColumnDef="ban">
      <th mat-header-cell *matHeaderCellDef>Блокировка</th>
      <td mat-cell *matCellDef="let user">
        <mat-checkbox class="example-margin"
                      color="primary"
                      value="1"
                      checked="{{user.isModerated}}"
                      (change)="onBanClick($event.checked, user.id)"
        ></mat-checkbox>
      </td>
    </ng-container>
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row;columns:displayedColumns"></tr>
  </table>
</div>
<div *ngIf="isLoading" class="spinner"><mat-spinner></mat-spinner></div>
