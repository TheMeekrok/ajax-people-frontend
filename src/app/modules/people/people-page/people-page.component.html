<h2>üîç –ü–æ–∏—Å–∫ –ª—é–¥–µ–π</h2>
<mat-drawer-container class="min-h-screen" hasBackdrop="false">
  <mat-drawer opened disableClose="true" mode="push">
    <form class="form" [formGroup]="form">
      <h3>üìÇ –§–∏–ª—å—Ç—Ä—ã</h3>

      <mat-form-field appearance="fill" class="mt-2">
        <mat-label>–í–æ–∑—Ä–∞—Å—Ç</mat-label>
        <input matInput type="text" formControlName="age" placeholder="18" />
        <mat-error *ngIf="age?.invalid && (age?.dirty || age?.touched)">{{
          ageErrorMessage
        }}</mat-error>
      </mat-form-field>

      <mat-form-field appearance="fill" class="mt-2">
        <mat-label>–°—Ç–∞—Ç—É—Å</mat-label>
        <mat-select formControlName="userStatus">
          <mat-option>–ù–µ—Ç</mat-option>
          <mat-option value="1">–°—Ç—É–¥–µ–Ω—Ç</mat-option>
          <mat-option value="2">–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å</mat-option>
          <mat-option value="3">–î—Ä—É–≥–æ–µ</mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field appearance="fill" class="mt-2">
        <mat-label>–£—Ä–æ–≤–µ–Ω—å –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è</mat-label>
        <mat-select formControlName="educationLevel">
          <mat-option>–ù–µ—Ç</mat-option>
          <mat-option value="1">–ë–∞–∫–∞–ª–∞–≤—Ä–∏–∞—Ç</mat-option>
          <mat-option value="2">–ú–∞–≥–∏—Å—Ç—Ä–∞—Ç—É—Ä–∞</mat-option>
          <mat-option value="3">–°–ø–µ—Ü–∏–∞–ª–∏—Ç–µ—Ç</mat-option>
          <mat-option value="4">–î—Ä—É–≥–æ–µ</mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field appearance="fill" class="mt-2">
        <mat-label>–ì–æ–¥ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è</mat-label>
        <input
          matInput
          type="text"
          formControlName="admissionYear"
          placeholder="2019"
        />
        <mat-error
          *ngIf="
            admissionYear?.invalid &&
            (admissionYear?.dirty || admissionYear?.touched)
          "
        >
          {{ admissionYearErrorMessage }}
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="fill" class="mt-2">
        <mat-label>–®–∫–æ–ª–∞ (–∏–Ω—Å—Ç–∏—Ç—É—Ç)</mat-label>
        <input
          type="text"
          matInput
          formControlName="school"
          [matAutocomplete]="autoSchools"
        />
        <mat-autocomplete
          #autoSchools="matAutocomplete"
          [displayWith]="displayFunctionSchool"
        >
          <mat-option
            *ngFor="let school of filteredSchools | async"
            [value]="school"
          >
            {{ school.title }}
          </mat-option>
        </mat-autocomplete>
      </mat-form-field>

      <mat-form-field appearance="fill" class="mt-2">
        <mat-label>–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏</mat-label>
        <input
          type="text"
          matInput
          formControlName="faculty"
          [matAutocomplete]="autoFaculties"
        />
        <mat-autocomplete
          #autoFaculties="matAutocomplete"
          [displayWith]="displayFunctionFaculty"
        >
          <mat-option
            *ngFor="let faculty of filteredFaculties | async"
            [value]="faculty"
          >
            {{ faculty.title }}
          </mat-option>
        </mat-autocomplete>
      </mat-form-field>

      <mat-chip-listbox
        multiple
        *ngIf="!interestsLoading"
        formControlName="interestsChips"
      >
        <mat-chip-option *ngFor="let interest of interests">
          {{ interest.title }}
        </mat-chip-option>
      </mat-chip-listbox>

      <div *ngIf="interestsLoading" class="spinner">
        <mat-spinner></mat-spinner>
      </div>

      <button
        type="submit"
        class="w-5/6 mt-5"
        mat-raised-button
        color="primary"
        [disabled]="usersLoading || form.invalid"
        (click)="onFilterButtonClick()"
      >
        –ü–æ–∫–∞–∑–∞—Ç—å
      </button>
    </form>
  </mat-drawer>
  <div class="content">
    <app-user *ngFor="let user of users" [user]="user"></app-user>
    <div *ngIf="usersLoading" class="spinner"><mat-spinner></mat-spinner></div>
    <div *ngIf="users.length === 0 && !usersLoading" class="text-center">
      <h3>üèÑ‚Äç‚ôÄÔ∏è –õ—é–¥–µ–π –Ω–µ—Ç, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã</h3>
    </div>
  </div>
</mat-drawer-container>
